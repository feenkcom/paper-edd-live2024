% Modeled after sample-sigplan.tex
\documentclass[sigplan,anonymous,review,10pt]{acmart}
%\documentclass[sigplan,10pt]{acmart}
%% \BibTeX command to typeset BibTeX logo in the docs
\AtBeginDocument{%
  \providecommand\BibTeX{{%
    Bib\TeX}}}
\setcopyright{acmlicensed}
\copyrightyear{2018}
\acmYear{2018}
\acmDOI{XXXXXXX.XXXXXXX}
%% These commands are for a PROCEEDINGS abstract or paper.
\acmConference[LIVE 2024]{LIVE 2024}{Oct.\ 20-25, 2024}{Pasadena, CA}
\acmISBN{978-1-4503-XXXX-X/18/06}
% ============================================================
\input{macros}
\input{st80.tex}
% ============================================================
% Macros for this paper
\newcommand*{\smallimg}[1]{%
    \raisebox{-.3\baselineskip}{%
        \includegraphics[
        height=\baselineskip,
        width=\baselineskip,
        keepaspectratio,
        ]{#1}%
    }%
}
%\renewcommand{\nbc}[3]{} % To hide reviewer comments
\newcommand\on[1]{\nbc{ON}{#1}{olive}} % add more author macros here
\newcommand\tg[1]{\nbc{TG}{#1}{blue}}
\newcommand\ac[1]{\nbc{AC}{#1}{teal}}
%\newcommand\steve[1]{\nbc{Steven}{#1}{red}} % Costiou
%\newcommand\ab[1]{\nbc{Alex}{#1}{violet}} % Bergel
%\newcommand\tk[1]{\nbc{Timo}{#1}{brown}} % Kehrer
\usepackage{caption}
\captionsetup{aboveskip=5pt,belowskip=-10pt} % Adjust the space around figure captions
%\usepackage{enumitem}
%\setlist[description]{font=\itshape}
\newcommand{\GT}{\lst{GT}\xspace} % In case we want to display it differently ...
%\newcommand\lmaf{\lst{Ludo\-Move\-Assert\-ion\-Fail\-ure}\xspace}
% ============================================================
% Optionally anonymize selected names
\newboolean{anonymous}
\setboolean{anonymous}{true}
\newcommand\anonymize[2]{\ifthenelse{\boolean{anonymous}}{#2}{#1}\xspace}
\newcommand\feenk{\anonymize{feenk}{anonymous company}}
\newcommand\deet{{\tt deet}\xspace}
% ============================================================
\begin{document}
%% The "title" command has an optional parameter,
%% allowing the author to define a "short title" to be used in page headers.
\title{Example-driven development: \\ bridging tests and documentation}
\author{Andrei Chi\c{s}}
\affiliation{%
  \institution{feenk gmbh}
  \city{Wabern}
  \country{Switzerland}}
\email{andrei.chis@feenk.com}
\author{Tudor G\^irba}
\affiliation{%
  \institution{feenk gmbh}
  \city{Wabern}
  \country{Switzerland}}
\email{tudor.girba@feenk.com}
\author{Oscar Nierstrasz}
\affiliation{%
  \institution{feenk gmbh}
  \city{Wabern}
  \country{Switzerland}}
\email{oscar.nierstrasz@feenk.com}

\renewcommand{\shortauthors}{Chi\c{s} et al.}

\begin{abstract}
Software systems should be \emph{explainable}, that is, they should help us to answer questions while exploring, developing or using them.
Textual documentation is a very weak form of explanation, since it is not causally connected to the code, so easily gets out of date.
\emph{Tests}, on the other hand, are causally connected to code, but they are also a weak form of explanation.
Although some tests encode interesting scenarios that answer certain questions about how the system works, most tests tend to be uninteresting.

\emph{Examples} are tests that are also factories for interesting system entities.
Instead of simply succeeding or failing, an example returns the object under test so that it can be inspected, or reused to compose further tests.
An example \emph{is} causally connected to the system, is always live and tested, and can be embedded into live documentation.
Although technically examples constitute just a tiny modification to test methods, their impact is potentially ground breaking.
We show
(i) how EDD enriches TDD with live programming,
(ii) how examples can be molded with tiny tools to answer analysis questions, and
(iii) how examples can be embedded in live documentation to make a system explainable.
\end{abstract}

%\keywords{TODO.}

%\received{20 February 2007}
%\received[revised]{12 March 2009}
%\received[accepted]{5 June 2009}

\maketitle

% ============================================================
\section{Background: Examples = Tests + Factories}\label{sec:intro}

\todo{add missing references}

Unit tests, as originally introduced by Beck \cite{XXX}, exercise objects, known as \emph{fixtures}, and evaluate assertions over these objects.
% Kent Beck, Simple Smalltalk Testing: With Patterns, , www.xprogramming.com/testfram.htm. 
% See https://en.m.wikipedia.org/wiki/SUnit
% https://web.archive.org/web/20150315073817/http://www.xprogramming.com/testfram.htm
Fixtures are created with the help of shared \emph{setup} methods, and, once the test method succeeds or fails, are simply discarded.
Only if a test fails do we have access to the fixture, from within the debugger.

Gaelli noted that there was a missed opportunity here, and proposed a modified approach to unit testing in which tests return their fixtures, that is, they serve as factories for \emph{examples}~\cite{Gael06b}.
% Modeling Examples to Test and Understand Software (PhD) \cite{Gael06b}
The output of a test --- an example --- can then be (re-)used as the input (fixture) for another test.
Examples can then be composed to form higher-level scenarios~\cite{Gael07a}.
% Composing Tests from Examples (JOT) \cite{Gael07a}

In principle, any XUnit testing framework, for language X, can be extended to support examples.
JExample extends JUnit 4, allowing test methods not only to return examples, but also to accept as input one or more other examples from the same test example class~\cite{XXX}.
% https://scg.unibe.ch/research/jexample
Interestingly, refactoring tests as examples establishes a partial order amongst test methods.
The impact of this is that
(i) code duplication is reduced as common preambles to complex tests are refactored as shared examples,
and
(ii) defect localization is improved since fewer tests will fail~\cite{Kuhn08a}.
% JExample: Exploiting Dependencies Between Tests to Improve Defect Localization \cite{Kuhn08a}
H{\"a}nsenberger showed that tests in the wild often contain much duplicated code.
By performing dynamic analysis of tests, one can largely automate the process of migrating classical unit tests to examples~\cite{Haen08b,Haen09a}.
% Using Dynamic Analysis for API Migration (PCODA) \cite{Haen08b}
% Defect Isolation As Responsibility of the Framework --- Automated API Migration from JUnit to JExample (MSc) \cite{Haen09a}

\todo{Need segue to the following sections...}

% ============================================================
\section{EDD: TDD + Examples}\label{sec:edd}

	EDD
		Problems with Unit tests and TDD
			Green tests are not useful
				Except sometime to explore source code
			How to start writing a test first?
				“Guess first” to invent an API
			Where to start coding to make the test pass?
				“Guess first” to start coding
		EDD: “Grow” examples through live programming
			possible lifecycle (rough sketch to be refined)
				Inspect an empty example
				Live program some code for that object
				Extract it as a method
				Express an assertion
				Add it to the example
				Iterate


% ============================================================
\section{Moldable Examples}\label{sec:moldable}

	Examples and MD
		MD makes software systems explainable by augmenting the objects with dozens of tiny tools that answer questions about the system
			Tools
				Views
				Actions
				Searches
				...
		Examples are both input and output of MD
			Input: raw example
			Output: molded example augmented with tools
		Basic EDD lifecycle is augmented with steps to let examples tell stories about themeselves
		Just as examples are developed live, so are the tools

% ============================================================
\section{Explainable Systems using Examples}\label{sec:explainable}

	
		Examples can be embedded in live documentation
		Project Diaries / Knowledge Bases
			Notebook pages with live examples
		GT Book as the prime example
			Examples
			Statistics


% ============================================================
\section{Conclusion}\label{sec:conclusion}


%\begin{acks}
%\end{acks}

\bibliographystyle{ACM-Reference-Format}
\bibliography{eddBridge}


\end{document}
\endinput


\begin{inparaenum}[(i)]
	\item ...
\end{inparaenum}

